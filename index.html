<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cotton - Proprietary Moisture Indices</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden; /* Prevent horizontal scroll */
    }
    header {
      background: #333;
      color: #fff;
      padding: 1em;
      text-align: center;
    }
    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 1em;
    }
    .tab {
      background: #eee;
      border: 1px solid #ccc;
      padding: 0.5em 1em;
      margin: 0 0.2em;
      cursor: pointer;
    }
    .tab.active {
      background: #ddd;
      font-weight: bold;
    }
    .content {
      max-width: 960px;
      margin: 2em auto;
      padding: 0 1em;
    }
    .section {
      margin-bottom: 2em;
    }
    .section h2 {
      border-bottom: 2px solid #ccc;
      padding-bottom: 0.5em;
    }
    .image-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 1em;
      justify-content: center;
    }
    .image-grid img {
      max-width: 100%;
      height: auto;
      border: 1px solid #ccc;
    }
    .forecast-card {
      flex: 1 1 calc(50% - 1em);
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 1em;
      margin-bottom: 1em;
      max-width: 600px;
    }
    /* Custom class to enlarge ECMWF OP for Soil Drought Index */
    #index1 .forecast-card.ecmwf-op {
      max-width: 800px; /* Increase the maximum width as desired */
    }
    .forecast-card h3 {
      margin-top: 0;
    }
    @media (max-width: 800px) {
      .forecast-card {
        flex: 1 1 100%;
      }
    }
    /* Styling for the interactive Plotly chart inside each tab */
    .plotly-chart-container {
      width: 100%;
      max-width: 1200px;
      margin: 2em auto;
      padding: 0 1em;
      box-sizing: border-box;
      text-align: center;
    }
    .plotly-chart-container iframe {
      width: 100%;
      height: 600px;  /* Adjust height as needed */
      border: none;
      display: block;
      margin: 0 auto;
    }
  </style>
  <!-- (Optional) Include Plotly.js if you plan on any inline Plotly code -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <header>
    <h1>Proprietary Moisture Indices</h1>
  </header>

  <!-- Tabs for switching between indices -->
  <div class="tabs">
    <div class="tab active" data-tab="index2">Root Zone Moisture Index</div>
    <div class="tab" data-tab="index1">Soil Drought Index</div>
  </div>

  <!-- Content for each index -->
  <div class="content">
    <!-- Root Zone Moisture Index Content (index2) -->
    <div class="tab-content" id="index2">
      <!-- Interactive Plot for Root Zone Moisture Index -->
      <div class="plotly-chart-container">
        <h2>Interactive Forecast Chart - Root Zone Moisture Index</h2>
        <iframe src="plotly_chart_rzmi.html"></iframe>
      </div>
      <!-- Timeseries Section -->
      <div class="section">
        <h2>Model Forecasts</h2>
        <div class="image-grid">
          <div class="forecast-card">
            <h3>ECMWF ENS</h3>
            <img src="COTN_RZMI_2month_ec_ens.png" alt="ECMWF ENS Timeseries">
          </div>
          <div class="forecast-card">
            <h3>ECMWF OP</h3>
            <img src="images/index2_ecmwf_op.png" alt="ECMWF OP Timeseries">
          </div>
          <div class="forecast-card">
            <h3>GFS ENS</h3>
            <img src="images/index2_gfs_ens.png" alt="GFS ENS Timeseries">
          </div>
          <div class="forecast-card">
            <h3>GFS OP</h3>
            <img src="images/index2_gfs_op.png" alt="GFS OP Timeseries">
          </div>
        </div>
      </div>
      <!-- Map Section -->
      <div class="section">
        <h2>Maps</h2>
        <div class="image-grid">
          <div class="forecast-card">
            <h3>ECMWF ENS</h3>
            <img src="images/index2_ecmwf_ens_today.png" alt="ECMWF ENS Today">
            <img src="images/index2_ecmwf_ens_end.png" alt="ECMWF ENS Forecast End">
          </div>
          <div class="forecast-card">
            <h3>ECMWF OP</h3>
            <img src="images/index2_ecmwf_op_today.png" alt="ECMWF OP Today">
            <img src="images/index2_ecmwf_op_end.png" alt="ECMWF OP Forecast End">
          </div>
          <div class="forecast-card">
            <h3>GFS ENS</h3>
            <img src="images/index2_gfs_ens_today.png" alt="GFS ENS Today">
            <img src="images/index2_gfs_ens_end.png" alt="GFS ENS Forecast End">
          </div>
          <div class="forecast-card">
            <h3>GFS OP</h3>
            <img src="images/index2_gfs_op_today.png" alt="GFS OP Today">
            <img src="images/index2_gfs_op_end.png" alt="GFS OP Forecast End">
          </div>
        </div>
      </div>
    </div>

    <!-- Soil Drought Index Content (index1) -->
    <div class="tab-content" id="index1" style="display:none;">
      <!-- Interactive Plot for Soil Drought Index -->
      <div class="plotly-chart-container">
        <h2>Interactive Forecast Chart - Soil Drought Index</h2>
        <iframe src="plotly_chart_sdi.html"></iframe>
      </div>
      <!-- Timeseries Section -->
      <div class="section">
        <h2>Timeseries</h2>
        <div>
          <h3>Composite Chart</h3>
          <img src="images/COTN_2025-02-18.png" alt="Composite Timeseries for Soil Drought Index">
        </div>
        <div>
          <h3>Forecast Details</h3>
          <div class="image-grid">
            <div class="forecast-card">
              <h3>ECMWF ENS</h3>
              <img src="images/index1_ecmwf_ens.png" alt="ECMWF ENS Timeseries">
            </div>
            <div class="forecast-card ecmwf-op">
              <h3>ECMWF OP</h3>
              <img src="images/index1_ecmwf_op.png" alt="ECMWF OP Timeseries">
            </div>
            <div class="forecast-card">
              <h3>GFS ENS</h3>
              <img src="images/index1_gfs_ens.png" alt="GFS ENS Timeseries">
            </div>
            <div class="forecast-card">
              <h3>GFS OP</h3>
              <img src="images/index1_gfs_op.png" alt="GFS OP Timeseries">
            </div>
          </div>
        </div>
      </div>
      <!-- Map Section -->
      <div class="section">
        <h2>Maps</h2>
        <div class="image-grid">
          <div class="forecast-card">
            <h3>ECMWF ENS</h3>
            <img src="images/index1_ecmwf_ens_today.png" alt="ECMWF ENS Today">
            <img src="images/index1_ecmwf_ens_end.png" alt="ECMWF ENS Forecast End">
          </div>
          <div class="forecast-card ecmwf-op">
            <h3>ECMWF OP</h3>
            <img src="images/index1_ecmwf_op_today.png" alt="ECMWF OP Today">
            <img src="images/index1_ecmwf_op_end.png" alt="ECMWF OP Forecast End">
          </div>
          <div class="forecast-card">
            <h3>GFS ENS</h3>
            <img src="images/index1_gfs_ens_today.png" alt="GFS ENS Today">
            <img src="images/index1_gfs_ens_end.png" alt="GFS ENS Forecast End">
          </div>
          <div class="forecast-card">
            <h3>GFS OP</h3>
            <img src="images/index1_gfs_op_today.png" alt="GFS OP Today">
            <img src="images/index1_gfs_op_end.png" alt="GFS OP Forecast End">
          </div>
        </div>
      </div>
    </div>
  </div> <!-- End .content -->

  <script>
    // Simple tab switching script
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tabContents.forEach(content => content.style.display = 'none');
        tab.classList.add('active');
        document.getElementById(tab.getAttribute('data-tab')).style.display = 'block';
      });
    });
  </script>
</body>
</html>
